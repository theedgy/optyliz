{"version":3,"sources":["logo.svg","scenes/Search/styles.ts","components/SearchForm/styles.ts","components/SearchForm/index.tsx","components/Article/styles.ts","components/Article/index.tsx","components/List/styles.ts","components/List/index.tsx","services/fetcher.ts","components/Skeleton/index.ts","scenes/Search/index.tsx","services/useDebounce.ts","styles.ts","App.tsx","reportWebVitals.ts","index.tsx"],"names":["Wrapper","styled","div","Notice","h2","SearchFormWrapper","form","Input","input","SearchForm","setValue","value","placeholder","defaultValue","onChange","e","target","ArticleWrapper","article","ArticleContent","a","ArticleTitle","ArticleInfo","span","ArticleImage","figure","Article","item","Poster","src","alt","Title","href","imdbID","rel","Type","Year","ListWrapper","List","items","map","getParsedParams","params","Object","entries","entry","join","fetcher","fetch","apikey","response","ok","console","log","json","Error","shimmer","keyframes","Skeleton","Search","useState","results","setResults","isLoading","setLoading","isError","setError","inputValue","setInputValue","debouncedValue","delay","setDebouncedValue","useEffect","timer","setTimeout","clearTimeout","useDebounce","s","then","Response","length","spin","GlobalStyle","createGlobalStyle","AppContainer","Header","header","LogoWrapper","Logo","img","App","logo","className","reportWebVitals","onPerfEntry","Function","getCLS","getFID","getFCP","getLCP","getTTFB","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.a1fdd0ae.chunk.js","sourcesContent":["export default __webpack_public_path__ + \"static/media/logo.6ce24c58.svg\";","import styled from 'styled-components';\n\nexport const Wrapper = styled.div`\n    display: flex;\n    flex-direction: column;\n    padding: var(--generalSpacing);\n`;\n\nexport const Notice = styled.h2`\n    text-align: center;\n`;\n","import styled from 'styled-components';\n\nexport const SearchFormWrapper = styled.form`\n    display: flex;\n    justify-content: center;\n    margin-bottom: var(--generalSpacing);\n`;\n\nexport const Input = styled.input`\n    width: 80%;\n    height: 50px;\n    margin: 20px auto 0;\n    border: 0;\n    border-bottom: 2px solid #000;\n    font-size: 20px;\n    padding: 0 var(--generalSpacing);\n    border-radius: 0;\n`;\n","import React from 'react';\nimport { Input, SearchFormWrapper } from './styles';\n\ninterface SearchFormProps {\n    value?: string | number;\n    setValue: (value: string | number) => void;\n}\nexport const SearchForm = ({ setValue, value }: SearchFormProps) => {\n    return (\n        <SearchFormWrapper>\n            <Input\n                placeholder={'Start typing to run search'}\n                defaultValue={value}\n                onChange={(e) => setValue(e.target.value)}\n            />\n        </SearchFormWrapper>\n    );\n};\n","import styled from 'styled-components';\n\nexport const ArticleWrapper = styled.article`\n    display: flex;\n    align-items: center;\n    border: 1px solid rgba(0, 0, 0, 0.2);\n    border-radius: var(--borderRadius);\n    padding: var(--generalSpacing);\n`;\nexport const ArticleContent = styled.a`\n    display: flex;\n    flex-direction: column;\n    align-items: center;\n    padding: var(--generalSpacing);\n    flex: 1;\n    color: currentColor;\n    text-decoration: none;\n    transition: color 0.2s;\n\n    &:hover {\n        color: darkred;\n    }\n`;\n\nexport const ArticleTitle = styled.h2`\n    font-size: 20px;\n    font-weight: bold;\n    margin: 0;\n    text-align: center;\n`;\n\nexport const ArticleInfo = styled.span`\n    font-size: 12px;\n    color: grey;\n`;\n\nexport const ArticleImage = styled.figure`\n    margin: 0;\n    line-height: 0;\n    width: 150px;\n\n    @media (max-width: 767px) {\n        width: 100px;\n    }\n\n    img {\n        max-width: 100%;\n    }\n`;\n","import React from 'react';\nimport { SearchItem } from '../../services/apiTypes';\nimport {\n    ArticleContent,\n    ArticleImage,\n    ArticleTitle,\n    ArticleWrapper,\n    ArticleInfo,\n} from './styles';\n\ninterface ArticleProps {\n    item: SearchItem;\n}\n\nexport const Article = ({ item }: ArticleProps) => {\n    return (\n        <ArticleWrapper>\n            {\n                // Do not render image when its API value is undefied which is `N/A` from my research\n                item.Poster !== 'N/A' && (\n                    <ArticleImage>\n                        <img src={item.Poster} alt={item.Title} />\n                    </ArticleImage>\n                )\n            }\n            <ArticleContent\n                href={`https://www.imdb.com/title/${item.imdbID}`}\n                target={'_blank'}\n                rel=\"noopener noreferrer\"\n            >\n                <ArticleTitle>{item.Title}</ArticleTitle>\n                <ArticleInfo>{`${item.Type} (${item.Year})`}</ArticleInfo>\n            </ArticleContent>\n        </ArticleWrapper>\n    );\n};\n","import styled from 'styled-components';\n\nexport const ListWrapper = styled.div`\n    display: grid;\n    grid-template-columns: repeat(4, 1fr);\n    grid-gap: var(--generalSpacing);\n\n    @media (max-width: 1365px) {\n        grid-template-columns: repeat(3, 1fr);\n    }\n\n    @media (max-width: 1023px) {\n        grid-template-columns: repeat(2, 1fr);\n    }\n\n    @media (max-width: 767px) {\n        grid-template-columns: repeat(1, 1fr);\n    }\n`;\n","import React from 'react';\nimport { SearchItem } from '../../services/apiTypes';\nimport { Article } from '../Article';\nimport { ListWrapper } from './styles';\n\ninterface ListProps {\n    items: SearchItem[];\n}\n\nexport const List = ({ items }: ListProps) => {\n    return (\n        <ListWrapper>\n            {items.map((item) => (\n                <Article key={item.imdbID} item={item} />\n            ))}\n        </ListWrapper>\n    );\n};\n","// Helper to get url params. In a real world i would use `new URLSearchParams()` but it's `toString()` method\n// encodes the string and replace spaces (like pulp%20fiction) which not work correctly in omdbapi.com api\nconst getParsedParams = (params: { [key: string]: string | number }) =>\n    Object.entries(params)\n        .map((entry) => entry.join('='))\n        .join('&');\n\n// fetcher function to fetch and handle errors with generic typings\nexport const fetcher = async <T>(params: {\n    [key: string]: string | number;\n}): Promise<T> => {\n    // Those values should go to .env file, but for just reacruitment app it's faster to handle deployments etc.\n    const urlBase = 'https://www.omdbapi.com';\n    const apikey = 'b508fc3';\n\n    const response = await fetch(\n        `${urlBase}?${getParsedParams({\n            apikey,\n            ...params,\n        })}`\n    );\n\n    if (!response.ok) {\n        console.log(response.json());\n        throw new Error(`Response not successful: ${response}`);\n    }\n\n    return await response.json();\n};\n","import styled, { keyframes } from 'styled-components';\n\nconst shimmer = keyframes`\n    to {\n        transform: translateX(100%);\n    }\n`;\n\nexport const Skeleton = styled.div`\n    display: inline-block;\n    height: 200px;\n    position: relative;\n    overflow: hidden;\n    background-color: #dddbdd;\n    border-radius: var(--borderRadius);\n    margin-bottom: var(--generalSpacing);\n\n    &::after {\n        content: '';\n        position: absolute;\n        top: 0;\n        right: 0;\n        bottom: 0;\n        left: 0;\n        transform: translateX(-100%);\n        background: linear-gradient(\n            90deg,\n            rgba(255, 255, 255, 0) 0,\n            rgba(255, 255, 255, 0.4) 20%,\n            rgba(255, 255, 255, 0.8) 60%,\n            rgba(255, 255, 255, 0) 100%\n        );\n        animation: ${shimmer} 2s infinite;\n    }\n`;\n","import React, { useEffect, useState } from 'react';\nimport { Notice, Wrapper } from './styles';\nimport { SearchForm } from '../../components/SearchForm';\nimport { List } from '../../components/List';\nimport { fetcher } from '../../services/fetcher';\nimport { SearchItem, SearchResponse } from '../../services/apiTypes';\nimport { Skeleton } from '../../components/Skeleton';\nimport { useDebounce } from '../../services/useDebounce';\n\nexport const Search = () => {\n    const [results, setResults] = useState<SearchItem[]>([]);\n    const [isLoading, setLoading] = useState(false);\n    const [isError, setError] = useState<string | false>(false);\n    const [inputValue, setInputValue] = useState<string | number>('');\n\n    const debouncedValue = useDebounce<string | number>(inputValue, 500);\n\n    // Reset state whenever input value has bean cleared\n    useEffect(() => {\n        if (!debouncedValue) {\n            setResults([]);\n            setError(false);\n        }\n    }, [debouncedValue]);\n\n    // Fetch data\n    useEffect(() => {\n        // Do not fire query whenever input is empty\n        if (!debouncedValue) {\n            return;\n        }\n\n        // Set loading state for UX\n        setLoading(true);\n\n        // Fetching\n        fetcher<SearchResponse>({\n            s: debouncedValue,\n        }).then((response) => {\n            // Add resutls to state\n            if (response.Response === 'True') {\n                setResults(response.Search);\n                setError(false);\n            } else {\n                // Handle custom error from '200' status response\n                setResults([]);\n\n                if (!!response.Error) {\n                    setError(response.Error);\n                }\n            }\n\n            // Remove loading state on query finish\n            setLoading(false);\n        });\n    }, [debouncedValue]);\n\n    return (\n        <Wrapper>\n            <SearchForm value={inputValue} setValue={setInputValue} />\n\n            {isLoading && !results.length && !isError && <Skeleton />}\n\n            {isError && <Notice>{isError}</Notice>}\n\n            {results.length > 0 && <List items={results} />}\n        </Wrapper>\n    );\n};\n","import { useState, useEffect } from 'react';\n\n// https://usehooks-typescript.com/react-hook/use-debounce\nexport const useDebounce = <T>(value: T, delay?: number): T => {\n    const [debouncedValue, setDebouncedValue] = useState<T>(value);\n\n    useEffect(() => {\n        const timer = setTimeout(() => setDebouncedValue(value), delay || 500);\n\n        return () => {\n            clearTimeout(timer);\n        };\n    }, [value, delay]);\n\n    return debouncedValue;\n};\n","import styled, { createGlobalStyle, keyframes } from 'styled-components';\n\nconst spin = keyframes`\n    from {\n        transform: rotate(0deg);\n    }\n    to {\n        transform: rotate(360deg);\n    }\n`;\n\n// Add global styles\nexport const GlobalStyle = createGlobalStyle`\n body {\n   margin: 0;\n   padding: 0;\n   font-family: sans-serif;\n   \n   --borderRadius: 10px;\n   --generalSpacing: 15px;\n }\n`;\n\nexport const AppContainer = styled.div`\n    display: grid;\n    grid-auto-rows: 50px 100% 50px;\n`;\n\nexport const Header = styled.header`\n    display: flex;\n    justify-content: space-between;\n    align-items: baseline;\n    padding: 10px;\n    border-bottom: 1px solid rgba(0, 0, 0, 0.1);\n`;\n\nexport const LogoWrapper = styled.a`\n    display: flex;\n    align-items: center;\n    white-space: nowrap;\n    text-decoration: none;\n    color: currentColor;\n    font-weight: bold;\n`;\n\nexport const Logo = styled.img`\n    max-width: 100%;\n    max-height: 30px;\n    animation: ${spin} infinite 20s linear;\n`;\n","import React from 'react';\nimport logo from './logo.svg';\nimport { Search } from './scenes/Search';\nimport { AppContainer, Header, Logo, LogoWrapper } from './styles';\n\nfunction App() {\n    return (\n        <AppContainer>\n            <Header>\n                <LogoWrapper href=\"/\">\n                    <Logo src={logo} className=\"App-logo\" alt=\"logo\" />\n                    From Poland With Dev\n                </LogoWrapper>\n            </Header>\n\n            <Search />\n        </AppContainer>\n    );\n}\n\nexport default App;\n","import { ReportHandler } from 'web-vitals';\n\nconst reportWebVitals = (onPerfEntry?: ReportHandler) => {\n    if (onPerfEntry && onPerfEntry instanceof Function) {\n        import('web-vitals').then(\n            ({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n                getCLS(onPerfEntry);\n                getFID(onPerfEntry);\n                getFCP(onPerfEntry);\n                getLCP(onPerfEntry);\n                getTTFB(onPerfEntry);\n            }\n        );\n    }\n};\n\nexport default reportWebVitals;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport App from './App';\nimport reportWebVitals from './reportWebVitals';\nimport { GlobalStyle } from './styles';\n\nReactDOM.render(\n    <React.StrictMode>\n        <GlobalStyle />\n        <App />\n    </React.StrictMode>,\n    document.getElementById('root')\n);\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nreportWebVitals();\n"],"sourceRoot":""}